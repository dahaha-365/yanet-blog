.vp-doc p strong,
.vp-doc p em {
  color: var(--vp-code-color);
}

.vp-doc > div:not(.vp-doc-copyright) {
  //h1,
  //h2 {
  //  padding-top: 0 !important;
  //  margin-top: 1em !important;
  //}
  //
  //h2 {
  //  padding-top: 1em !important;
  //}

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    position: relative;
    /*padding-left: 1.5em;*/

    &::before {
      content: '';
      position: absolute;
      left: -1.5em;
      bottom: 0;
      height: 1em;
      width: 0.75em;
      background-color: var(--vp-code-color);
      transform: translateY(-0.15em);
      animation: terminal-cursor 1s step-end infinite;
    }
  }
}

@keyframes terminal-cursor {
  0%, 100% { opacity: 1; }
  50%      { opacity: 0; }
}

// 颜色变量定义
$ai-glow-color-1: #00d2ff; // 科技蓝
$ai-glow-color-2: #92fe9d; // 极光绿
$ai-glow-color-3: #ff52ff; // 幻彩紫
$border-width: 2px;
$border-radius: 12px;

.vp-repo-card {
  position: relative;
  border-radius: $border-radius;
  z-index: 1;
  overflow: hidden;
  border: none; // 清除默认边框

  // 1. 动态背景色：自动适配 VitePress 模式
  // 也可以手动使用 :root / .dark 变量
  background-color: var(--vp-c-bg-soft);

  &::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: conic-gradient(
        transparent,
        $ai-glow-color-1,
        $ai-glow-color-2,
        $ai-glow-color-3,
        transparent 30%
    );
    animation: rotate-glow 4s linear infinite;
    z-index: -2;
  }

  &::after {
    content: '';
    position: absolute;
    inset: $border-width;
    border-radius: calc(#{$border-radius} - #{$border-width});
    z-index: -1;
    // 关键点：这里必须跟随父级背景，否则会露馅
    background-color: var(--vp-c-bg-soft);
  }
}

// 2. 针对暗黑/亮色模式微调流光亮度
:root {
  // 亮色模式：流光可以淡一点，避免刺眼
  .vp-repo-card::before {
    opacity: 0.5;
  }
}

.dark {
  // 暗黑模式：流光加亮，增加科技感
  .vp-repo-card::before {
    opacity: 1;
    filter: blur(2px); // 暗色下加点模糊会有霓虹感
  }
}

@keyframes rotate-glow {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}
